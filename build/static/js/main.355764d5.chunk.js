(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e){e.exports=JSON.parse('{"categoryTypes":["Paths","Patterns","Landscaping","Decor","Art","Flags","Sign","Clothing","Stalls"]}')},37:function(e,t,a){e.exports=a(73)},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),s=a.n(c),l=a(3),i=a(5),o=a(11),u=function(e){var t=e.isLoggedIn,a=e.classes,n=e.id;return r.a.createElement("ul",{className:a,id:n},r.a.createElement("li",null,r.a.createElement(i.c,{to:"/"},"Home")),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/add"},"Add Design")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/dashboard"},"Manage Designs")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/logout",className:"waves-effect waves-light btn"},"Logout"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.c,{to:"/login",className:"waves-effect waves-light btn"},"Login")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/createaccount",className:"waves-effect waves-light btn purple darken-2"},"Create Account"))))},m=a(18),p=a(1),d=a.n(p),f=a(2),h=a(6),g=a.n(h),v=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/designs");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/designs?category=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/designs/search?q=".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/designs/".concat(t,"/").concat(a));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),N=a(36),x=a.n(N),y=function(e){var t=e.result,a=e.icon,n=e.onClick,c=function(e){n(e,"thumb_down"===a?"down":"up")};return r.a.createElement("a",{className:"right small-right-margin clickable",onClick:function(){return c(t.id)}},r.a.createElement("div",{className:"chip rate-chip"},r.a.createElement("i",{className:"material-icons"},a),r.a.createElement("span",null,"thumb_down"===a?t.downvotes:t.upvotes)))},j=function(e){var t=e.result,a=e.passNewResults,n=function(){var e=Object(f.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"up"!==n){e.next=8;break}return e.next=4,w(t,"up");case 4:r=e.sent,a(r),e.next=13;break;case 8:if("down"!==n){e.next=13;break}return e.next=11,w(t,"down");case 11:c=e.sent,a(c);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),alert(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,a){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card-action light-green lighten-5"},r.a.createElement(y,{result:t,icon:"thumb_down",onClick:n}),r.a.createElement(y,{result:t,icon:"thumb_up",onClick:n}))},O=function(){var e=Object(f.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{Authorization:"bearer ".concat(t)}},e.next=4,g.a.get("/api/designs/user",a);case 4:return n=e.sent,e.abrupt("return",n.data.designs);case 8:throw e.prev=8,e.t0=e.catch(0),Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("/api/designs/".concat(t));case 3:if(204!==e.sent.status){e.next=6;break}return e.abrupt("return",!0);case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e){var t=e.result,a=e.passNewResults,n=function(){var e=Object(f.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(t);case 2:e.sent&&a(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"card-action light-green lighten-5"},r.a.createElement("button",{className:"btn red right",onClick:function(){return n(t.id)}},"Delete"))},S=function(e){var t=e.result,a=e.passNewResults,n=e.manage,c=void 0!==n&&n;return r.a.createElement(x.a,{height:400,offset:100},r.a.createElement("div",{className:"col s12 m6 l6"},r.a.createElement("div",{className:"card large"},r.a.createElement("div",{className:"card-image"},r.a.createElement("img",{src:t.imageUrl,alt:t.designName}),r.a.createElement("span",{className:"card-title"},t.designName)),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",null,r.a.createElement("span",{className:"card-qualifier"},"Design ID:"),r.a.createElement("span",{className:"uppercase"},t.customDesignId)),t.creatorId&&r.a.createElement("p",null,r.a.createElement("span",{className:"card-qualifier"},"Creator ID:"),r.a.createElement("span",{className:"uppercase"},t.creatorId)),t.designCategory.map((function(e){return r.a.createElement("div",{key:e,className:"chip z-depth-1 purple lighten-3 capitialize card-category"},e)}))),c?r.a.createElement(C,{result:t,passNewResults:a}):r.a.createElement(j,{result:t,passNewResults:a}))))},D=a(16),I=function(e){return e.sort((function(e,t){return t.upvotes-e.upvotes}))},L=(a(69),function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),i=Object(l.a)(s,2),o=i[0],u=i[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),g=h[0],w=h[1],N=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:t=e.sent,c(I(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){N()}),[]);var x=function(e){var t=a.filter((function(t){return t.id!==e.id})),n=[].concat(Object(m.a)(t),[e]);c(I(n))},y=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b(g);case 3:a=e.sent,c(I(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:a=e.sent,c(I(a)),u(t),w("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){u(""),N()};return r.a.createElement("div",null,r.a.createElement("div",{className:"row background"},r.a.createElement("form",{onSubmit:y},r.a.createElement("div",{className:"col s9 m11 input-field"},r.a.createElement("input",{id:"search-input",autoComplete:"off",type:"search",value:g,onChange:function(e){return w(e.target.value)}}),r.a.createElement("label",{htmlFor:"search-input"},"Search Designs"),r.a.createElement("i",{class:"material-icons",onClick:function(){w(""),N()}},"close")),r.a.createElement("div",{className:"col s3 m1 input-field"},r.a.createElement("button",{className:"btn"},r.a.createElement("i",{className:"material-icons"},"search"))))),r.a.createElement("div",{className:"row section"},r.a.createElement("div",{className:"col s12 "},r.a.createElement("span",{id:"filter-label"},"Filter by Category:"),D.categoryTypes.map((function(e){return e===o?r.a.createElement("div",{className:"chip z-depth-1 purple lighten-3 clickable",onClick:O,key:e},e,r.a.createElement("i",{className:"material-icons close-icon"},"close")):r.a.createElement("div",{className:"chip clickable",onClick:function(){return j(e)},key:e},e)})))),r.a.createElement("div",{className:"row"},a.map((function(e){return r.a.createElement(S,{key:e.id,result:e,passNewResults:x})}))))}),F=(a(70),function(e){var t=e.token,a=Object(n.useState)([]),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)(""),u=Object(l.a)(o,2),m=u[0],p=u[1];Object(n.useEffect)((function(){t&&function(){var e=Object(f.a)(d.a.mark((function e(){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O(t);case 3:a=e.sent,i(a),p(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p("Failed to load designs. Try refreshing the page.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[t]);var h=function(e){var t=s.filter((function(t){return t.id!==e}));i(t)};return r.a.createElement("section",{className:"background"},r.a.createElement("h1",null,"Manage Your Designs"),r.a.createElement("p",null,"Below are all the designs you've submitted. To delete a design, click the links under the appropriate card."),m&&r.a.createElement("h4",{className:"error-message"},m),r.a.createElement("div",{className:"row "},s&&s.map((function(e){return r.a.createElement(S,{result:e,manage:"true",passNewResults:h})}))))}),P=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/designs/upload",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(f.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:"bearer ".concat(t)}},e.next=4,g.a.post("/api/designs",a,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:throw e.prev=8,e.t0=e.catch(0),Error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),Y=(a(71),function(e){var t=e.token,a=Object(n.useState)(""),c=Object(l.a)(a,2),s=c[0],i=c[1],o=Object(n.useState)([]),u=Object(l.a)(o,2),p=u[0],h=u[1],g=Object(n.useState)(""),v=Object(l.a)(g,2),E=v[0],b=v[1],w=Object(n.useState)(""),N=Object(l.a)(w,2),x=N[0],y=N[1],j=Object(n.useState)(""),O=Object(l.a)(j,2),k=O[0],C=O[1],S=Object(n.useState)(""),I=Object(l.a)(S,2),L=I[0],F=I[1],Y=Object(n.useState)(""),R=Object(l.a)(Y,2),T=R[0],B=R[1],z=Object(n.useState)({}),J=Object(l.a)(z,2),M=J[0],q=J[1],_=Object(n.useState)(!1),H=Object(l.a)(_,2),U=H[0],V=H[1];Object(n.useEffect)((function(){0===Object.keys(M).length&&U&&G()}),[M]),Object(n.useEffect)((function(){window.scroll(0,0),setTimeout((function(){F(""),B("")}),8e3)}),[L,T]);var W=function(){var e=Object(f.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(t=new FormData).append("designImage",k),e.next=5,P(t);case 5:return e.abrupt("return",e.sent);case 8:e.prev=8,e.t0=e.catch(0),B("Your image could not be uploaded. Please try again.");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(f.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W();case 3:return a=e.sent,n={name:s,category:p,creatorId:E,designId:x,image:a.imageLocation},e.next=7,A(t,n);case 7:F("Design successfully uploaded!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),B("Your design could not be saved. Please try again.");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("section",{className:"row background"},r.a.createElement("div",{className:"col s12"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=function(e){var t={};return e.name?e.name.length>40?t.name="Your design name must no exceed 40 characters":0===e.category.length?t.category="Check at least one category for your design":e.creatorId&&e.creatorId.length>17||e.creatorId&&e.creatorId.length<17?t.creatorId="Your creator ID must be 17 characters with dashes":e.designId.length>17||e.designId.length<17?t.designId="Your design ID must be 17 characters with dashes":e.image||(t.image="Please select an image to upload for your design"):t.name="Please enter a name for your design",t}({name:s,category:p,creatorId:E,designId:x,image:k});q(t),V(!0)}},r.a.createElement("h2",null,"Add Your Design"),T&&r.a.createElement("h4",{className:"error-message"},T),L&&r.a.createElement("h4",{className:"user-message"},L),r.a.createElement("p",null,"Want to showcase your creativity in the Custom Design Database? Add it here!"),r.a.createElement("p",null,"* denotes required fields."),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{id:"design-name-input",type:"text",value:s,onChange:function(e){return i(e.target.value)},maxLength:"40"}),r.a.createElement("label",{htmlFor:"design-name-input"},"Design Name*"),r.a.createElement("span",{className:"helper-text"},"Max of 40 characters. Design name should be descriptive so others can find it!"),M.name&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},M.name))),r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"col s12 custom-label"},"Design Category*"),D.categoryTypes.map((function(e){return r.a.createElement("label",{key:e,className:"col s12 m4 l4"},r.a.createElement("input",{type:"checkbox",name:e,onChange:function(e){return function(e){if(p.includes(e)){var t=p.filter((function(t){return t!==e}));h(t)}else h([].concat(Object(m.a)(p),[e]))}(e.target.name)}}),r.a.createElement("span",null,e))})),M.category&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},M.category)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{id:"creator-input",type:"text",value:E,onChange:function(e){return b(e.target.value)},minLength:"17",maxLength:"17",className:"validate"}),r.a.createElement("label",{htmlFor:"creator-input"},"ACNH Creator ID"),r.a.createElement("span",{className:"helper-text"},"Creator ID should be 17 characters with dashes."),M.creatorId&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},M.creatorId))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("input",{id:"design-id-input",type:"text",value:x,onChange:function(e){return y(e.target.value)},minLength:"17",maxLength:"17",className:"validate"}),r.a.createElement("label",{htmlFor:"design-id-input"},"ACNH Design ID*"),r.a.createElement("span",{className:"helper-text"},"Design ID should be 17 characters with dashes."),M.designId&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},M.designId))),r.a.createElement("div",{className:"row"},r.a.createElement("label",{className:"col s12 custom-label"},"Design Image*"),r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,"Choose Image"),r.a.createElement("input",{type:"file",onChange:function(e){return C(e.target.files[0])},accept:".jpg,.jpeg,.png"})),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path validate",type:"text",placeholder:"Upload one image file"}),r.a.createElement("span",{className:"helper-text"},"One file max. File type must be .jpg, .jpeg, or .png."),M.image&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},M.image)))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"submit",className:"btn-large waves-effect waves-light col s12 m5 l5 purple darken-2"},"Submit Design",r.a.createElement("i",{className:"material-icons right"},"send"))))))}),R=a(17),T=a(23),B=function(e,t){var a=Object(n.useState)({}),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(n.useState)({}),o=Object(l.a)(i,2),u=o[0],m=o[1],p=Object(n.useState)(!1),d=Object(l.a)(p,2),f=d[0],h=d[1];Object(n.useEffect)((function(){0===Object.keys(u).length&&f&&e()}),[u]);return{handleChange:function(e){e.persist(),s((function(t){return Object(T.a)(Object(T.a)({},t),{},Object(R.a)({},e.target.name,e.target.value))}))},handleSubmit:function(e){e&&e.preventDefault(),m(t(c)),h(!0)},inputValues:c,errors:u}},z=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/users",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(f.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("/api/users/login",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=window.localStorage.getItem("cddblogin");return e||!1},q=function(e){window.localStorage.setItem("cddblogin",JSON.stringify(e))},_=function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:if(!e.sent){e.next=5;break}return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)?e.password||(t.password="Please enter your password"):t.email="Email address is invalid":t.email="Please enter your email",t},U=function(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)?e.password?e.password.length<8?t.password="Passwords must be at least 8 characters long":e.password!==e.password2&&(t.password="Passwords entered do not match"):t.password="Please enter a password":t.email="Email address is invalid":t.email="Please enter a email",t},V=function(e){var t=e.onLogin,a=Object(o.f)(),c=Object(n.useState)(""),s=Object(l.a)(c,2),i=s[0],u=s[1],m=function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J(h);case 3:n=e.sent,t(n.token),q(n.token),a.push("/dashboard"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),u("Login failed. Please try again.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:e.sent&&a.push("/dashboard");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=B(m,H),h=p.inputValues,g=p.handleChange,v=p.handleSubmit,E=p.errors;return r.a.createElement("section",{className:"background"},r.a.createElement("form",{onSubmit:v},r.a.createElement("h1",null,"Login"),i&&r.a.createElement("h4",{className:"error-message"},i),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 input-field"},r.a.createElement("input",{id:"email-input",autoComplete:"off",className:"validate",type:"text",name:"email",value:h.email||"",onChange:g}),r.a.createElement("label",{htmlFor:"email-input"},"Email"),E.email&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},E.email))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 input-field"},r.a.createElement("input",{id:"password-input",autoComplete:"off",className:"validate",type:"password",name:"password",value:h.password||"",onChange:g}),r.a.createElement("label",{htmlFor:"password-input"},"Password"),E.password&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},E.password))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"submit",className:"btn"},"Login"))))},W=function(e){var t=e.onLogout,a=Object(o.f)();return Object(n.useEffect)((function(){window.localStorage.removeItem("cddblogin"),t(),a.push("/")}),[a]),r.a.createElement("div",null,r.a.createElement("h1",null,"Logging out..."))},G=function(e){var t=e.onLogin,a=Object(o.f)(),c=Object(n.useState)(""),s=Object(l.a)(c,2),u=s[0],m=s[1];Object(n.useEffect)((function(){(function(){var e=Object(f.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:e.sent&&a.push("/dashboard");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=B(function(){var e=Object(f.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z(h);case 3:n=e.sent,t(n.token),q(n.token),a.push("/add"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),m("Create Account failed. Your email is likely already taken. Please try again.");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),U),h=p.inputValues,g=p.handleChange,v=p.handleSubmit,E=p.errors;return r.a.createElement("section",{className:"background"},r.a.createElement("h1",null,"Create an account"),u&&r.a.createElement("h4",{className:"error-message"},u),r.a.createElement("form",{onSubmit:v},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 input-field"},r.a.createElement("input",{id:"name-input",autoComplete:"off",name:"name",className:"validate",type:"text",value:h.name||"",onChange:g}),r.a.createElement("label",{htmlFor:"name-input"},"Full Name"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 input-field"},r.a.createElement("input",{id:"email-input",autoComplete:"off",name:"email",className:"validate",type:"text",value:h.email||"",onChange:g}),r.a.createElement("label",{htmlFor:"email-input"},"Email*"),E.email&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},E.email))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 input-field"},r.a.createElement("input",{id:"password-input",autoComplete:"off",name:"password",className:"validate",type:"password",value:h.password||"",onChange:g}),r.a.createElement("label",{htmlFor:"password-input"},"Password*"),E.password&&r.a.createElement("span",{className:"helper-text red-text","data-error":"wrong"},E.password))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 input-field"},r.a.createElement("input",{id:"password2-input",autoComplete:"off",name:"password2",className:"validate",type:"password",value:h.password2||"",onChange:g}),r.a.createElement("label",{htmlFor:"password2-input"},"Re-enter Password*"))),r.a.createElement("div",{className:"row"},r.a.createElement("button",{type:"submit",className:"btn"},"Create Account"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 info-message section"},"Already have an account? ",r.a.createElement(i.b,{to:"/login"},"Log in."))))};a(72);var K=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)(""),m=Object(l.a)(s,2),p=m[0],d=m[1],f=function(e){c(!0),d(e)};return Object(n.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("cddblogin"));e&&(d(e),c(!0))}),[]),r.a.createElement("div",null,r.a.createElement(i.a,null,r.a.createElement("header",null,r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper"},r.a.createElement(i.b,{to:"/",className:"brand-logo"},"CDDB"),r.a.createElement("a",{href:"#","data-target":"mobile-menu",className:"sidenav-trigger"},r.a.createElement("i",{className:"material-icons"},"menu")),r.a.createElement(u,{isLoggedIn:a,classes:"right hide-on-med-and-down",id:"desktop-menu"}),r.a.createElement(u,{isLoggedIn:a,classes:"sidenav",id:"mobile-menu"})))),r.a.createElement("div",{className:"container"},r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/add"},r.a.createElement(Y,{token:p})),r.a.createElement(o.a,{path:"/dashboard"},r.a.createElement(F,{token:p})),r.a.createElement(o.a,{path:"/login"},r.a.createElement(V,{onLogin:f})),r.a.createElement(o.a,{path:"/createaccount"},r.a.createElement(G,{onLogin:f})),r.a.createElement(o.a,{path:"/logout"},r.a.createElement(W,{onLogout:function(){c(!1),d("")}})),r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(L,null)))),r.a.createElement("footer",{className:"page-footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col l6 s12"},r.a.createElement("h5",{className:"white-text"},"Like CDDB?"),r.a.createElement("p",{className:"grey-text text-lighten-4"},"Support us by donating towards site maintenance costs!")),r.a.createElement("div",{className:"col l4 offset-l2 s12"},r.a.createElement("h5",{className:"white-text"},"Links"),r.a.createElement("ul",null,r.a.createElement("li",null,"Browse Custom Designs"),r.a.createElement("li",null,"Add New Custom Design"),r.a.createElement("li",null,"Manage Your Custom Designs"),r.a.createElement("li",null,"Contact Us"))))),r.a.createElement("div",{className:"footer-copyright"},r.a.createElement("div",{className:"container"},"\xa9 2020 Custom Design Database (CDDB)",r.a.createElement("p",{className:"grey-text text-lighten-4 right"},"This website has no affiliation with Nintendo or Animal Crossing."))))))};s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null)),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.355764d5.chunk.js.map